<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LaTeX和Mermaid测试</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            text-align: center;
            margin-bottom: 1.5em;
        }
        .section {
            margin-bottom: 2em;
            border-bottom: 1px solid #eee;
            padding-bottom: 1em;
        }
        pre {
            background-color: #f5f5f5;
            padding: 15px;
            overflow-x: auto;
            border-radius: 4px;
        }
        .latex-block {
            display: block;
            margin: 1.5em 0;
            text-align: center;
            overflow-x: auto;
            max-width: 100%;
        }
        .latex-inline {
            display: inline-block;
            vertical-align: middle;
            margin: 0 0.2em;
        }
        .mermaid {
            margin: 2em 0;
            text-align: center;
            max-width: 100%;
            overflow-x: auto;
        }
        /* MathJax相关样式 */
        mjx-container {
            display: inline-block;
            overflow-x: auto;
            overflow-y: hidden;
            max-width: 100%;
            padding: 0.2em 0;
        }
        mjx-container[jax="CHTML"][display="true"] {
            display: block;
            text-align: center;
            margin: 1em 0;
            padding: 0.5em 0;
        }
    </style>
    <!-- MathJax配置 -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true,
                packages: {'[+]': ['mhchem']}  // 化学方程式支持
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'tex2jax_ignore'
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" defer></script>
    <!-- Mermaid图表支持 -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化Mermaid
            mermaid.initialize({
                startOnLoad: true,
                theme: 'default',
                securityLevel: 'loose'
            });
        });
    </script>
</head>
<body>
    <h1>LaTeX和Mermaid测试</h1>
    
    <div class="section">
        <h2>LaTeX数学公式测试</h2>
        
        <h3>行内公式</h3>
        <p>这是一个行内公式示例：$E = mc^2$，Einstein的质能方程。</p>
        <p>另一个行内公式：质量与能量的关系可用 $E = \gamma m_0 c^2$ 表示，其中 $\gamma = \frac{1}{\sqrt{1-v^2/c^2}}$。</p>
        
        <h3>块级公式</h3>
        <p>以下是一个块级公式：</p>
        $$\int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi}$$
        
        <p>多行公式示例：</p>
        $$\begin{aligned}
        \nabla \times \vec{B} -\, \frac1c\, \frac{\partial\vec{E}}{\partial t} & = \frac{4\pi}{c}\vec{j} \\
        \nabla \cdot \vec{E} & = 4 \pi \rho \\
        \nabla \times \vec{E}\, +\, \frac1c\, \frac{\partial\vec{B}}{\partial t} & = \vec{0} \\
        \nabla \cdot \vec{B} & = 0
        \end{aligned}$$
    </div>
    
    <div class="section">
        <h2>化学方程式测试</h2>
        <p>简单的化学方程式：$\ce{H2O}$</p>
        <p>更复杂的化学平衡：$\ce{CO2 + C -> 2CO}$</p>
        <div class="latex-block">
            $$\ce{Zn^2+ + 2OH- -> Zn(OH)2 v}$$
        </div>
    </div>
    
    <div class="section">
        <h2>Mermaid流程图测试</h2>
        <pre class="mermaid">
graph TD
    A[开始] --> B{判断条件}
    B -->|条件1| C[处理1]
    B -->|条件2| D[处理2]
    C --> E[结束]
    D --> E
        </pre>
    </div>
    
    <div class="section">
        <h2>Mermaid序列图测试</h2>
        <pre class="mermaid">
sequenceDiagram
    participant 浏览器
    participant 服务器
    浏览器->>服务器: GET请求页面
    服务器-->>浏览器: 返回HTML
    浏览器->>服务器: GET请求资源(JS,CSS)
    服务器-->>浏览器: 返回资源文件
    浏览器->>浏览器: 渲染页面
        </pre>
    </div>
</body>
</html> 